<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>demo1</title>
</head>
<body>
<h3>两个函数最终应该输出什么</h3>
<h4>案例一：谁调用，谁就是this</h4>
<h4>案例二：当函数没有上下文时，默认为全局，如下执行f函数和匿名函数时候</h4>
<h4>案例三： 当一个函数被当为event handler时候，this设置为触发事件的页面元素</h4>
<script>
    //案例一
    var name = "Will";
    var obj = {
        name: "obj",
        nestedObj: {
            name:"nestedObj",
            func: function () {
                console.log(this + ":" + this.name);
            }
        }
    };
    obj.nestedObj.func();// 查看控制台输出内容
    temp = obj.nestedObj.func;
    temp(); //查看控制台输出内容


    //案例二
    var context = "global";
    var obj2 = {
        context: "object2",
        method: function () {
            console.log(this + ":" +this.context);
            function f() {
                var context = "function";
                console.log(this + ":" +this.context);
            };
            f();
            (function(){
                var context = "function";
                console.log(this + ":" +this.context);
            })();
        }
    };
    obj2.method();//查看控制台输出的结果

    //案例三
    var body = document.getElementsByTagName("body")[0];
    body.addEventListener("click", function(){
        console.log(this);
    });

</script>

</body>
</html>